package io.avaje.jsonb.jakarta;

import org.junit.jupiter.api.Test;

//import static org.junit.jupiter.api.Assertions.*;

class WriterPoolTest {

  @Test
  void take() {

//    SBWriterPool pool = new SBWriterPool(3);
//    SBWriterPool.Buffer b0 = pool.take();
//    assertEquals(0, b0.pos());
//    SBWriterPool.Buffer b1 = pool.take();
//    assertEquals(1, b1.pos());
//
//    b0.writer().write("hello");
//    String result0 = b0.resultAndRecycle();
//    assertEquals("hello", result0);
//
//    WriterPool.Buffer b2 = pool.take();
//    assertEquals(2, b2.pos());
//
//    WriterPool.Buffer b3 = pool.take();
//    assertEquals(0, b3.pos());
//
//    assertSame(b0.writer(), b3.writer());
//    b3.writer().write("hi");
//    String result3 = b0.resultAndRecycle();
//    assertEquals("hi", result3);
  }
}
